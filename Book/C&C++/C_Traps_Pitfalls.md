# C陷阱与缺陷

## 1. 词法缺陷

`符号`(token)指的是程序中一个基本组成单元，其作用相当于一个句子中的单词。
本章讨论符号和组成符号的字符之间关系，以及惯有符号含义的一些常见误解。

### 1.1. = 不同于 ==

注意`=`是赋值符号，而`==`作为比较，在if判断条件中要注意区分。

### 1.2. & 和 | 不同于 && 和 ||

`&` 是按位与运算符，而 `|` 是按位或运算符。

### 1.3. 词法分析中贪心法
如何确定哪些字符组成符号？

C语言中由单字符符号和多字符符号，那么编译器如何判断哪些字符组成一个符号。其原则是**每一个符号应该包含尽可能多的字符**，也就是说，编译器从左到右一个字符一个字符的读入，若该字符组成一个符号，那么再读入下一个字符，判断已经读入的两个字符组成的字符串是否可能是一个符号的组成部分；若可能，继续读入下一个字符，重复上述判断，直到读入字符串已不可能组成一个有意义的符号。

注意，除字符串与字符常量，符号中间不能出现空白。

一些准二义性 (near-ambiguity) 问题，诸如以下三个指令的含义互不相同。

```
a---b
a -- - b
a - -- b
```

### 1.4. 整数常量

若整型常量的第一个字符为0，那么该常量将被视作八进制数。

### 1.5. 字符与字符串

单引号与双引号含义不同：单引号引起的一个字符代表一个整数，该整数对应与字符在编译器采用的字符集中的序列值；双引号引起的字符串，代表指向一个无名数组起始字符的指针。

## 2. 语法陷阱
